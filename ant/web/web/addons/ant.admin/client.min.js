(function(e){(function(e,t){var i={init:function(){},register:function(){w2popup.open({title:'<i class="fa fa-user-plus"></i> 注册开关',style:"padding: 0",width:500,height:300,modal:true,body:'<div id="admin_register_div" style="width:100%;height:100%;"></div>',onOpen:function(t){t.onComplete=function(){w2ui["admin_register_form"]?w2ui["admin_register_form"].destroy():null;e.get("/addons/ant.admin/register/data",function(t){if(t.err){return i.error("获取失败!<br>"+t.err)}e("#admin_register_div").w2form({name:"admin_register_form",fields:[{field:"status",type:"checkbox",html:{caption:"开放注册"}},{field:"msg",type:"textarea",html:{caption:"关闭信息",attr:'rows="5" style="width:80%"'}}],record:{status:t.ret.register_on,msg:t.ret.register_msg},actions:{"保存":function(){e.post("/addons/ant.admin/register/save",this.record,function(e){if(e.ret){i.success("保存成功!");w2popup.close()}else{i.error("保存失败!<br>"+e.err)}})}}})})}}})}};ANT.initAddon({id:"ant_admin",text:"后台管理",group:true,expanded:true,nodes:[{id:"admin_register",icon:"fa fa-user-plus",caption:"注册开关",onClick:i.register}]},i)})(jQuery)})();