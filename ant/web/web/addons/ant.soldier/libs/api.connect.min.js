(function(ant){(function($,ANT){ANT.CONNECT_API={apis:{base:{md5:function(e){return hex_md5(String(e||""))},base64:{de:function(e){return w2utils.base64decode(e)},en:function(e){return w2utils.base64encode(e)}},save:function(e,n){var t=new Blob([n]),o=document.createEvent("MouseEvents"),i=document.createElementNS("http://www.w3.org/1999/xhtml","a");i.href=(window.URL||window.webkitURL||window).createObjectURL(t);i.download=e;o.initMouseEvent("click",true,false,window,0,0,0,0,0,false,false,false,false,0,null);i.dispatchEvent(o)}},notify:function(e){if(Notification.permission!=="granted"){Notification.requestPermission()}var n=new Notification(e.title||"蚁逅提醒",{icon:e.icon||"/ant/img/logo.png",body:e.body||"我是一个桌面提醒 :)"});n.onclick=function(){n.close();e.click?e.click():null};var t=document.createElement("audio");t.src=e.audio||"/ant/res/aaao.mp3";t.play();t.remove()},toastr:{w:function(e,n){toastr.warning(e,n||"Warning")},i:function(e,n){toastr.info(e,n||"Info")},s:function(e,n){toastr.success(e,n||"Success")},e:function(e,n){toastr.error(e,n||"Error")}},loadSoldier:function(id,argv,fn){var soldier=ANT.addons["ant_soldier"].depot.cache[id],UI=function(){return{init:function(e){e.run(argv,fn)}}},plugin=eval(soldier.code.client);plugin(new UI,ANT.CONNECT_API.cache[soldier.env],soldier.code.server)}},cache:{},temp:{},saveLocal:function(e){localStorage.setItem("setting_config",e);return this},loadLocal:function(){var e=localStorage.getItem("setting_config"),n=this;if(e){var t=JSON.parse(e);for(var o in t){if(n.cache[o]){n.cache[o].config=t[o]}}}return this},removeLocal:function(){localStorage.removeItem("setting_config");return this},getData:function(e){var n={},t=e?this.cache:this.temp;for(var o in t){n[o]=t[o].config}return n},reg:function(e,n){this.temp[e]=$.extend({},n);this.cache[e]=n;this.loadLocal()}}})(jQuery,window.ANT)})();